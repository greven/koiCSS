// --------------------------------
//   Unit Helpers
// --------------------------------

@use 'sass:map';
@use 'sass:math';
@use 'sass:meta';

@use '../config' as *;

$_base-font-size: map.get($settings, typography, base-font-size);

/// Convert a value in pixels (px) to rem.
///
/// @param {number (unitless)} $value-in-pixel -
///   The value to be converted to rem.
/// @param {integer (unitless)} $base-font-size -
///   Optional base font size, defaults to 16.
///
/// @return {number} `$value-in-pixel` in rem.
///
@function px-to-rem($px, $base-font-size: $_base-font-size) {
  @if $px == null {
    @return null;
  }

  @return math.div(strip-unit($px), $base-font-size) * 1rem;
}

/// Strip unit from value.
///
/// @param {number}
///
/// @return {number (unitless)}
///
@function strip-unit($value) {
  @if meta.type-of($value) != 'number' {
    @error "Invalid `#{meta.type-of($value)}` type. Choose a number type instead.";
  } @else if meta.type-of($value) == 'number' and not math.is-unitless($value) {
    @return math.div($value, ($value * 0 + 1));
  }

  @return $value;
}
