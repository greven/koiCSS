// --------------------------------
//   String helpers
// --------------------------------

@use 'sass:list';
@use 'sass:string';

$escape-characters: (
  '!',
  '#',
  '$',
  '%',
  '&',
  "'",
  '(',
  ')',
  '*',
  '+',
  ',',
  '.',
  '/',
  ':',
  ';',
  '<',
  '=',
  '>',
  '?',
  '@',
  '[',
  ']',
  '^',
  '`',
  '{',
  '|',
  '}',
  '~'
);

// Replace search string in string with a given replace string
//
// @param {string} $string
// @param {string} $search
// @param {string} $replace
//
// @return {string}
//
@function replace($string, $search, $replace: '') {
  $index: string.index($string, $search);

  @if $index {
    @return string.slice($string, 1, $index - 1) + $replace +
      replace(string.slice($string, $index + string.length($search)), $search, $replace);
  }

  @return $string;
}

/// Escape chars in a given string.
///
/// @param {string} $str
///
/// @return {string} - escaped string
///
@function escape($str) {
  @each $char in $escape-characters {
    $str: replace($str, $char, '\\'+ $char);
  }
  @return $str;
}
