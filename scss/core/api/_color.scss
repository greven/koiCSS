// --------------------------------
//   Color
// --------------------------------

@use '../helpers/color' as *;
@use '../helpers/internal' as *;
@use 'config' as *;
@use 'theme' as *;

$-default-shade: config(fallbacks, colors);
$-default-accent: config(fallbacks, accent);

// --------------------------------
//   Functions
// --------------------------------

@function color($name, $shade: $-default-shade, $alpha: 1) {
  @if is-scheme-color($name, $shade) {
    @return hsl(css-var(#{$name}-#{$shade}), $alpha);
  } @else if is-theme-color($name, $shade) {
    @return hsl(css-var(color-#{$name}-#{$shade}), $alpha);
  } @else if is-theme-color($name) {
    @return hsl(css-var(color-#{$name}), $alpha);
  }
}

@function accent($shade: $-default-shade, $alpha: 1) {
  $fallback-accent: rgba(theme(colors, $-default-accent, $shade), $alpha);
  @return hsl(css-var(color-accent-#{$shade}, to-hsl($fallback-accent)), $alpha);
}
