// --------------------------------
//   Layout Utilities
// --------------------------------

@use '../core/generators' as *;
@use '../core' as *;

$utility-classes: (
  'display': (
    property: display,
    responsive: true,
    class: null,
    values: (
      inline: inline,
      inline-block: inline-block,
      block: block,
      grid: grid,
      flex: flex,
      inline-flex: inline-flex,
      table: table,
      table-row: table-row,
      table-cell: table-cell,
      hidden: none,
    ),
  ),
  // 'position': (
  //   property: position,
  //   class: null,
  //   responsive: true,
  //   values: static relative absolute fixed sticky,
  // ),
  // 'float': (
  //   property: float,
  //   responsive: true,
  //   values: left right none,
  // ),
  // 'clear': (
  //   property: clear,
  //   responsive: true,
  //   values: left right both none,
  // ),
  // 'object-fit': (
  //   property: object-fit,
  //   class: object,
  //   responsive: true,
  //   values: contain cover fill none scale-down,
  // ),
  // 'object-position': (
  //   property: object-position,
  //   class: object,
  //   responsive: true,
  //   values: bottom center left left-bottom left-top right right-bottom right-top top,
  // ),
  // 'overflow': (
  //   property: overflow,
  //   class: overflow,
  //   responsive: true,
  //   values: auto hidden visible scroll,
  // ),
  // 'overflow-x': (
  //   property: overflow,
  //   class: overflow-x,
  //   responsive: true,
  //   values: auto hidden visible scroll,
  // ),
  // 'overflow-y': (
  //   property: overflow,
  //   class: overflow-y,
  //   responsive: true,
  //   values: auto hidden visible scroll,
  // ),
  'inset':
    (
      property: top right bottom left,
      class: inset,
      responsive: true,
      values: theme(spacing),
    ),
);

@mixin utilities {
  @include generate-utilities($utility-classes);

  // Centered content using grid place-content
  @include create-responsive-utility(centered) {
    display: grid;
    place-content: center;
  }

  // Heap: Stacked elements
  // Credits: https://smolcss.dev/#smol-stack-layout
  @include create-responsive-utility(heap) {
    display: grid;
    grid-template-areas: 'stack';

    & > * {
      grid-area: stack;
    }
  }

  @include create-responsive-utility(stack-x) {
    align-items: center;
    display: flex;
    flex-direction: row;
    justify-content: flex-start;

    & > * {
      margin-bottom: 0;
      margin-top: 0;
    }

    & > * + * {
      margin-left: var(--koi-spacer, spacing(md));
      margin-right: 0;
    }
  }

  @include create-responsive-utility(stack-x-reverse) {
    align-items: center;
    display: flex;
    flex-direction: row-reverse;
    justify-content: flex-start;

    & > * {
      margin-bottom: 0;
      margin-top: 0;
    }

    & > * + * {
      margin-left: 0;
      margin-right: var(--koi-spacer, spacing(md));
    }
  }

  @include create-responsive-utility(stack-y) {
    display: flex;
    flex-direction: column;
    justify-content: flex-start;

    & > * {
      margin-left: 0;
      margin-right: 0;
    }

    & > * + * {
      margin-bottom: 0;
      margin-top: var(--koi-spacer, spacing(md));
    }
  }

  @include create-responsive-utility(stack-y-reverse) {
    display: flex;
    flex-direction: column-reverse;
    justify-content: flex-start;

    & > * {
      margin-left: 0;
      margin-right: 0;
    }

    & > * + * {
      margin-bottom: var(--koi-spacer, spacing(md));
      margin-top: 0;
    }
  }

  @include create-responsive-utility(container) {
    @include container(0px);
  }
}
