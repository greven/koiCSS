// --------------------------------
//   Theme Helpers
// --------------------------------

@use 'sass:map';
@use 'sass:meta';
@use 'sass:list';

@use '../config' as *;
@use '../helpers' as *;

// Get a value from the theme using
// fallbacks definied in the config
@function theme($keys...) {
  $property: list.nth($keys, 1);
  $fallback: config(fallbacks, $property);
  @return map-get-key($theme, $fallback, $keys...);
}

@function theme-has-key($keys...) {
  @return map.has-key($theme, $keys...);
}

// Checks if keys is a valid theme color
@function is-theme-color($keys...) {
  $colors: map.get($theme, colors);
  $value: map.get($colors, $keys...);

  @return map.has-key($colors, $keys...) and (meta.type-of($value) == color);
}

// Checks if keys is a valid scheme color
// (theme -> color-schemes)
@function is-scheme-color($keys...) {
  $color-schemes: theme(color-schemes);

  @each $color-scheme, $values in $color-schemes {
    @if map.has-key($values, $keys...) {
      @return true;
    }
  }
  @return false;
}
